{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>OdontoCitas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <link rel="stylesheet" href="{% static 'css/oferta_card.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% block head %}{% endblock %}
</head>
<body>
    <nav class="main-nav">
        <a href="/" class="brand">OdontoCitas</a>
        <div class="nav-links">
            <ul>
                <li><a href="/">Inicio</a></li>
                <li><a href="/ofertas">Tratamientos</a></li>
                <li><a href="{% url 'lista_estudiantes' %}">Estudiantes</a></li>
                {% if user.is_authenticated %}
                    <li><a href="#" class="nav-link-important">Citas</a></li>
                    <li><a href="{% url 'mis_ofertas' %}" class="nav-link-important">Publicar Tratamiento</a></li>
                    <li><a href="{% url 'edit_profile' %}" class="nav-link-important">Editar Perfil</a></li>
                    {% if user.is_superuser %}
                        <li><a href="{% url 'lista_usuarios' %}" class="nav-link-important">Usuarios</a></li>
                    {% endif %}
                {% endif %}
            </ul>
        </div>
        <div class="nav-right">
             {% if user.is_authenticated %}
                <form action="{% url 'logout' %}" method="post" class="logout-form">
                    {% csrf_token %}
                    <button type="submit" class="logout-button">Cerrar Sesión</button>
                </form>
            {% else %}
                 <a href="{% url 'login' %}" class="login-button">Iniciar Sesión</a>
            {% endif %}
        </div>
        <button class="hamburger-menu">
            <i class="fas fa-bars"></i>
        </button>
    </nav>

    <div class="mobile-nav">
        <ul>
            <li><a href="/">Inicio</a></li>
            <li><a href="/ofertas">Tratamientos</a></li>
            <li><a href="{% url 'lista_estudiantes' %}">Estudiantes</a></li>
             {% if user.is_authenticated %}
                <li><a href="#" class="nav-link-important">Citas</a></li>
                <li><a href="{% url 'mis_ofertas' %}" class="nav-link-important">Publicar Tratamientos</a></li>
                <li><a href="{% url 'edit_profile' %}" class="nav-link-important">Editar Perfil</a></li>
                {% if user.is_superuser %}
                    <li><a href="{% url 'lista_usuarios' %}" class="nav-link-important">Usuarios</a></li>
                {% endif %}
                <li>
                    <form action="{% url 'logout' %}" method="post">
                        {% csrf_token %}
                        <button type="submit" class="logout-button-mobile">Cerrar Sesión</button>
                    </form>
                </li>
            {% else %}
                <li><a href="{% url 'login' %}">Iniciar Sesión</a></li>
            {% endif %}
        </ul>
    </div>


    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 OdontoCitas UNAN Managua | Todos los derechos reservados | Contacta al desarrollador <a href="https://github.com/TavoRivera">AQUÍ</a></p>
    </footer>

<script>
    // Mobile Nav Menu
    const hamburger = document.querySelector('.hamburger-menu');
    const mobileNav = document.querySelector('.mobile-nav');
    if (hamburger) {
        hamburger.addEventListener('click', () => {
            mobileNav.classList.toggle('is-active');
        });
    }

    // Home Page Carousel
    document.addEventListener('DOMContentLoaded', function() {
        let slideIndex = 0;
        const slides = document.getElementsByClassName("carousel-slide");
        
        if (slides.length > 0) {
            showSlides();
        }

        function showSlides() {
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove('active');
            }
            
            slideIndex++;
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }
            
            slides[slideIndex - 1].classList.add('active');
            
            setTimeout(showSlides, 4000); // Change image every 4 seconds
        }
    });
</script>

</body>
</html>
